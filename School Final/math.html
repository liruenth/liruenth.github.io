<!doctype html>
<html>
	<head>
		<title>Math Puzzles</title>
		<meta charset="utf-8"/>
		<script src="modernizr.custom.05819.js"></script>
		<link rel="stylesheet" type="text/css" href="puzzles.css">
	</head>
	<body>
		<header>So you think your good at math?<br/> Well, we shall see.</header>
		
		<!-- When clicked, a popup window appears and shows a larger image -->
		<img class="extra" src="sudoku.jpg" alt="sudoku" onclick="var popup = window.open('', 'sudoku image', 'width=400,height=400,left=160,top=300'); popup.document.write('<img src=\'sudoku.jpg\'/>')"/>
		
		<section>
			<p>There are many math puzzles in the world such as the sudoku puzzle shown to the right and the 1996 Puzzle below.</p>
			<h4>1996 Puzzle</h4>
			<p>
				Use the numerals 1, 9, 9 and 6 exactly in that order to make 1000 
				<br/>You can use the mathematical symbols +, -, ×, /, √, ^ (exponent symbol) and brackets (brackets are done for you).
				<br/>Example: 63 = 1×9+9×6
			</p>
			<span>(1</span>
			<select id="op1">
				<option value="+">+</option>
				<option value="-">-</option>
				<option value="x">x</option>
				<option value="/">/</option>
				<option value="√">√</option>
				<option value="^">^</option>
			</select>
			<span>9)</span>
			<select id="op2">
				<option value="+">+</option>
				<option value="-">-</option>
				<option value="x">x</option>
				<option value="/">/</option>
				<option value="√">√</option>
				<option value="^">^</option>
			</select>
			<span>(9</span>
			<select id="op3">
				<option value="+">+</option>
				<option value="-">-</option>
				<option value="x">x</option>
				<option value="/">/</option>
				<option value="√">√</option>
				<option value="^">^</option>
			</select>
			<span>6)</span>
			
			<!-- When clicked checks whether the user chose the corrector operators -->
			<button id="btn1996">Check</button>
		</section>
		
		<!-- navigation for all pages -->
		<aside>
			<ul>
				<li><a href="index.html">Home</a></li>
				<li><a href="#">Math Puzzles</a></li>
				<li><a href="english.html">English Puzzles</a></li>
				<li><a href="games.html">Puzzle Games</a></li>
				<li><a href="results.html">Results</a></li>
				<li><a href="webSafety.html">Web Safety</a></li>
				<li><a href="dateCalculator.html">Date Calculator</a></li>
			</ul>
		</aside>
		
		<footer>
			<p>solve the sudoku puzzle. Enter the numbers row by row with a comma seperating the rows.</p>
			<textarea id="userSolution" rows="9" cols = "30"></textarea>
			
			<!-- when clicked calls the checkSudokuSolution() function -->
			<button id="sudokuBtn">Check Solution</button>
		</footer>
		
		<script>
			//this script checks whether the user solved the sudoku challenge or not.
			
			//answer to sudoku puzzle
			var sudokuSolution = [
				"947823615",
				"186945237",
				"532167498",
				"358674921",
				"421539876",
				"769218354",
				"294756183",
				"873491562",
				"615382749"
			];

			//947823615,186945237,532167498,358674921,421539876,769218354,294756183,873491562,615382749

			//this function alerts the user as to whether they were correct or not.
			function checkSudokuSolution() {
				var userSolution = document.getElementById("userSolution").value;
				var sol = [];
				userSolution = userSolution.replace(/(\r\n|\n|\r)/gm,"");
				sol = userSolution.split(",");
				var correct = true;
				for (var i = 0; i < sudokuSolution.length; i++) {
					if (sudokuSolution[i] !== sol[i]) {
						correct = false;
						break;
					}
				}
				
				if (correct) {
					alert("yay");
				} else {
					alert("try again");
				}
			}
			
			//this function checks the 1996 puzzle solution and alerts user what their result was if they were wrong.
			function check1996() {
				var op1 = document.getElementById("op1").value;
				var op2 = document.getElementById("op2").value;
				var op3 = document.getElementById("op3").value;
				var userTotal1 = 0;
				var userTotal2 = 0;
				var total = 0;
				
				switch(op1) {
					case "+": userTotal1 = 1 + 9; break;
					case "-": userTotal1 = 1 - 9; break;
					case "x": userTotal1 = 1 * 9; break;
					case "/": userTotal1 = 1 / 9; break;
					case "√": userTotal1 = 1; break;
					case "^": userTotal1 = 1; break;
				}
				
				switch(op3) {
					case "+": userTotal2 = 9 + 6; break;
					case "-": userTotal2 = 9 - 6; break;
					case "x": userTotal2 = 9 * 6; break;
					case "/": userTotal2 = 9 / 6; break;
					case "√": userTotal2 = Math.pow(9, (1/6)); break;
					case "^": userTotal2 = Math.pow(9, 6); break;
				}
				
				switch(op2) {
					case "+": total = userTotal1 + userTotal2; break;
					case "-": total = userTotal1 - userTotal2; break;
					case "x": total = userTotal1 * userTotal2; break;
					case "/": total = userTotal1 / userTotal2; break;
					case "√": total = Math.pow(userTotal1, (1 / userTotal2)); break;
					case "^": total = Math.pow(userTotal1, userTotal2); break;
				}
				
				if (total == 1000) {
					alert("Way to go!");
				} else {
					alert("Wrong. Your total was " + total);
				}
			}
			
			//add event handler for checkSudokuButton
			var checkSudokuButton = document.getElementById("sudokuBtn");
			if (checkSudokuButton.addEventListener) {
				checkSudokuButton.addEventListener("click", checkSudokuSolution, false);
			} else if (checkSudokuButton.attachEvent) {
				checkSudokuButton.attachEvent("onclick", checkSudokuSolution);
			}
			//add event handler for check1996Button
			var check1996Button = document.getElementById("btn1996");
			if (check1996Button.addEventListener) {
				check1996Button.addEventListener("click", check1996, false);
			} else if (check1996Button.attachEvent) {
				check1996Button.attachEvent("onclick", check1996);
			}
		</script>
	</body>
</html>